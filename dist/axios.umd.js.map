{"version":3,"file":"axios.umd.js","sources":["../src/helpers/utils.ts","../src/helpers/url.ts","../src/helpers/header.ts","../src/helpers/error.ts","../src/helpers/cookie.ts","../src/core/xhr.ts","../src/core/transform.ts","../src/core/dispatchRequest.ts","../src/core/InterceptorManager.ts","../src/core/mergeConfig.ts","../src/core/Axios.ts","../src/helpers/data.ts","../src/defaults.ts","../src/cancel/Cancel.ts","../src/cancel/CancelToken.ts","../src/axios.ts"],"sourcesContent":["import { format } from 'path'\n\nconst toString = Object.prototype.toString\n\nexport function isDate(val: any): val is Date {\n  return toString.call(val) === '[object Date]'\n}\n\nexport function isObject(val: any): val is Object {\n  return val !== null && typeof val === 'object'\n}\n\n// 判断是否是普通对象{}\nexport function isPlainObject(val: any): val is Object {\n  return toString.call(val) === '[object Object]'\n}\n\n// as 断言 ？\n// 把 from 里的属性都扩展到 to 中，包括原型上的属性。\nexport function extend<T, U>(to: T, from: U): T & U {\n  for (const key in from) {\n    ; (to as T & U)[key] = from[key] as any\n  }\n  return to as T & U\n}\n\n// 深拷贝\nexport function deepMerge(...objs: any[]): any {\n  const result = Object.create(null)\n  objs.forEach(obj => {\n    if (obj) {\n      Object.keys(obj).forEach(key => {\n        const val = obj[key]\n        if (isPlainObject(val)) {\n          // 当前key是否已经存在\n          if (isPlainObject(result[key])) {\n            // 存在则需要合并\n            result[key] = deepMerge(result[key], val)\n          } else {\n            result[key] = deepMerge(val)\n          }\n        } else {\n          result[key] = val\n        }\n      })\n    }\n  })\n  return result\n}\n\n// 判断 FormData\nexport function isFormData(val: any): boolean {\n  return typeof val !== 'undefined' && val instanceof FormData\n}","import { isDate, isObject, isPlainObject } from './utils'\nfunction encode(val: string): string {\n    return encodeURIComponent(val)\n        .replace(/%40/g, '@')\n        .replace(/%3A/gi, ':')\n        .replace(/%24/g, '$')\n        .replace(/%2C/gi, ',')\n        .replace(/%20/g, '+')\n        .replace(/%5B/gi, '[')\n        .replace(/%5D/gi, ']')\n}\n\n// 对get请求处理 url\nexport function buildURL(url: string, params?: any): string {\n    if (!params) {\n        return url\n    } else {\n        const parts: string[] = []\n        Object.keys(params).forEach((key) => {\n            const val = params[key]\n            if (val === null || typeof val === 'undefined') {\n                // return 继续进行下次循环\n                return\n            }\n            let values = []\n            if (Array.isArray(val)) {\n                values = val\n                key += '[]'\n            } else {\n                values = [val]\n            }\n            values.forEach((val) => {\n                if (isDate(val)) {\n                    val = val.toISOString()\n                } else if (isPlainObject(val)) {\n                    val = JSON.stringify(val)\n                }\n                parts.push(`${encode(key)}=${encode(val)}`)\n            })\n        })\n\n        let serializedParams = parts.join('&')\n        if (serializedParams) {\n            // 忽略哈希\n            const markIndex = url.indexOf('#')\n            if (markIndex !== -1) {\n                url = url.slice(0, markIndex)\n            }\n            // 拼接\n            url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams\n        }\n        return url\n    }\n}\n\ninterface URLOrigin {\n    protocol: string\n    host: string\n}\n\n// 是否是同源的url\nexport function isURLSameOrigin(requestURL: string): boolean {\n    const parsedOrigin = resolveURL(requestURL)\n    return (\n        parsedOrigin.protocol === currentOrigin.protocol && parsedOrigin.host === currentOrigin.host\n    )\n}\n\nconst urlParsingNode = document.createElement('a')\nconst currentOrigin = resolveURL(window.location.href)\n\n// 创建a标签然后赋值 url 然后 获取 protocol 与 host\nfunction resolveURL(url: string): URLOrigin {\n    urlParsingNode.setAttribute('href', url)\n    const { protocol, host } = urlParsingNode\n    return {\n        protocol,\n        host\n    }\n}","import { isPlainObject, deepMerge } from './utils'\nimport { Method } from '../types/index'\nimport { parse } from 'path'\n\n// 替换 header 大小写\nfunction normalizeHeaderName(headers: any, normalizedName: string): void {\n  if (!headers) {\n    return\n  }\n  Object.keys(headers).forEach(name => {\n    if (\n      name !== normalizedName &&\n      name.toLocaleUpperCase() === normalizedName.toLocaleUpperCase()\n    ) {\n      headers[normalizedName] = headers[name]\n      delete headers[name]\n    }\n  })\n}\n\n// 处理header\nexport function processHeaders(headers: any, data: any): any {\n  normalizeHeaderName(headers, 'Content-Type')\n  // 对纯对象{}类型数据 默认加上 header:content-type\n  if (isPlainObject(data)) {\n    if (headers && !headers['Content-Type']) {\n      headers['Content-Type'] = 'application/json;charset=utf-8'\n    }\n  }\n  return headers\n}\n\nexport function parseHeaders(headers: string): any {\n  let parsed = Object.create(null)\n  if (!headers) {\n    return parsed\n  }\n\n  headers.split('\\r\\n').forEach(line => {\n    let [key, val] = line.split(':')\n    key = key.trim().toLowerCase()\n    if (!key) {\n      return\n    }\n    if (val) {\n      val = val.trim()\n    }\n    parsed[key] = val\n  })\n  return parsed\n}\n\n// 处理不同请求情况下header值\nexport function flattenHeaders(headers: any, method: Method): any {\n  if (!headers) {\n    return headers\n  }\n\n  headers = deepMerge(headers.common || {}, headers[method] || {}, headers)\n\n  const methodsToDelete = [\n    'delete',\n    'get',\n    'head',\n    'options',\n    'post',\n    'put',\n    'patch',\n    'common'\n  ]\n\n  methodsToDelete.forEach(method => {\n    delete headers[method]\n  })\n\n  return headers\n}\n","import { AxiosRequestConfig, AxiosResponse } from '../types'\n\nexport class AxiosError extends Error {\n    isAxiosError: boolean\n    config: AxiosRequestConfig\n    code?: string | null\n    request?: any\n    response?: AxiosResponse\n    constructor(\n        message: string,\n        config: AxiosRequestConfig,\n        code?: string | null,\n        request?: any,\n        response?: AxiosResponse\n    ) {\n        super(message)\n        this.config = config\n        this.code = code\n        this.request = request\n        this.response = response\n        this.isAxiosError = true\n        // ts 解决坑\n        Object.setPrototypeOf(this, AxiosError.prototype)\n    }\n}\n\nexport function createError(\n    message: string,\n    config: AxiosRequestConfig,\n    code?: string | null,\n    request?: any,\n    response?: AxiosResponse\n): AxiosError {\n    const error = new AxiosError(message, config, code, request, response)\n    return error\n}","const cookie = {\n    read(name: string): string | null {\n        const match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'))\n        return match ? decodeURIComponent(match[3]) : null\n    }\n}\n\nexport default cookie","import { AxiosRequestConfig, AxiosPromise, AxiosResponse } from '../types'\nimport { parseHeaders } from '../helpers/header'\nimport { createError } from '../helpers/error'\nimport { isURLSameOrigin } from '../helpers/url'\nimport { isFormData } from '../helpers/utils'\nimport cookie from '../helpers/cookie'\n\nexport default function xhr(config: AxiosRequestConfig): AxiosPromise {\n  return new Promise((resolve, reject) => {\n    const {\n      data = null,\n      url,\n      method = 'get',\n      headers,\n      responseType,\n      timeout,\n      cancelToken,\n      withCredentials,\n      xsrfCookieName,\n      xsrfHeaderName,\n      onDownloadProgress,\n      onUploadProgress,\n      auth\n    } = config\n\n    const request = new XMLHttpRequest()\n\n    request.open(method.toUpperCase(), url!, true)\n\n    configureRequest()\n\n    addEvents()\n\n    processHeaders()\n\n    processCancel()\n\n    request.send(data)\n\n    function configureRequest(): void {\n      if (responseType) {\n        request.responseType = responseType\n      }\n\n      if (timeout) {\n        request.timeout = timeout\n      }\n\n      if (withCredentials) {\n        request.withCredentials = withCredentials\n      }\n    }\n\n    function addEvents(): void {\n      request.onreadystatechange = function handleLoad() {\n        if (request.readyState !== 4) {\n          return\n        }\n\n        if (request.status === 0) {\n          return\n        }\n\n        const responseHeaders = parseHeaders(request.getAllResponseHeaders())\n        const responseData =\n          responseType && responseType !== 'text' ? request.response : request.responseText\n        const response: AxiosResponse = {\n          data: responseData,\n          status: request.status,\n          statusText: request.statusText,\n          headers: responseHeaders,\n          config,\n          request\n        }\n        handleResponse(response)\n      }\n\n      request.onerror = function handleError() {\n        reject(createError('Network Error', config, null, request))\n      }\n\n      request.ontimeout = function handleTimeout() {\n        reject(\n          createError(`Timeout of ${config.timeout} ms exceeded`, config, 'ECONNABORTED', request)\n        )\n      }\n\n      if (onDownloadProgress) {\n        request.onprogress = onDownloadProgress\n      }\n\n      if (onUploadProgress) {\n        request.upload.onprogress = onUploadProgress\n      }\n    }\n\n    function processHeaders(): void {\n      if (isFormData(data)) {\n        delete headers['Content-Type']\n      }\n\n      if ((withCredentials || isURLSameOrigin(url!)) && xsrfCookieName) {\n        const xsrfValue = cookie.read(xsrfCookieName)\n        if (xsrfValue) {\n          headers[xsrfHeaderName!] = xsrfValue\n        }\n      }\n\n      if (auth) {\n        headers['Authorization'] = 'Basic ' + btoa(auth.username + ':' + auth.password)\n      }\n\n      Object.keys(headers).forEach(name => {\n        if (data === null && name.toLowerCase() === 'content-type') {\n          delete headers[name]\n        } else {\n          request.setRequestHeader(name, headers[name])\n        }\n      })\n    }\n\n    function processCancel(): void {\n      if (cancelToken) {\n        cancelToken.promise.then(reason => {\n          request.abort()\n          reject(reason)\n        }).catch()\n      }\n    }\n\n    function handleResponse(response: AxiosResponse): void {\n      if (response.status >= 200 && response.status < 300) {\n        resolve(response)\n      } else {\n        reject(\n          createError(\n            `Request failed with status code ${response.status}`,\n            config,\n            null,\n            request,\n            response\n          )\n        )\n      }\n    }\n  })\n}","import { AxiosTransformer } from '../types'\n\nexport default function transform(\n  data: any,\n  headers: any,\n  fns?: AxiosTransformer | AxiosTransformer[]\n) {\n  if (!fns) {\n    return data\n  }\n\n  if (!Array.isArray(fns)) {\n    fns = [fns]\n  }\n  fns.forEach(fn => {\n    // console.log(fn)\n    // 每一次返回值当做下一次data调用\n    // console.log(fn(data, headers))\n    data = fn(data, headers)\n  })\n  // console.log(data)\n  return data\n}\n","import { AxiosRequestConfig, AxiosPromise, AxiosResponse } from '../types'\nimport { buildURL } from '../helpers/url'\nimport { processHeaders, flattenHeaders } from '../helpers/header'\nimport xhr from './xhr'\nimport transform from './transform'\n\nfunction dispatchRequest(config: AxiosRequestConfig): AxiosPromise {\n  throwIfCancellationRequested(config)\n  processConfig(config)\n  return xhr(config).then(res => {\n    // console.log(res)\n    return transformResponseData(res)\n  })\n}\n\n// 如果调用时候传递了cancelToken则直接抛出异常\nfunction throwIfCancellationRequested(config: AxiosRequestConfig): void {\n  // console.log(config.cancelToken)\n  if (config.cancelToken) {\n    // console.log('config.cancelToken.throwIfRequested()')\n    config.cancelToken.throwIfRequested()\n  }\n}\n\n// 对参数进行处理\nfunction processConfig(config: AxiosRequestConfig): void {\n  config.url = transformURL(config)\n  // 先处理header再处理data\n  config.headers = transformHeaders(config)\n  // 处理data发送数据\n  config.data = transform(config.data, config.headers, config.transformRequest)\n  // 对header进行 flat 处理\n  config.headers = flattenHeaders(config.headers, config.method!)\n}\n\n// 对url进行处理\nfunction transformURL(config: AxiosRequestConfig): string {\n  const { url, params } = config\n  // 加 ！表示类型断言，这个变量不会为空\n  return buildURL(url!, params)\n}\n\n// 处理 header\nfunction transformHeaders(config: AxiosRequestConfig): any {\n  const { headers = {}, data } = config\n  return processHeaders(headers, data)\n}\n\n// 修改返回值，将json改为字符串\nfunction transformResponseData(res: AxiosResponse): AxiosResponse {\n  res.data = transform(res.data, res.headers, res.config.transformResponse)\n  return res\n}\n\nexport default dispatchRequest\n","import { ResolvedFn, RejectedFn } from '../types/index'\ninterface Interceptor<T> {\n  resolved: ResolvedFn<T>\n  rejected?: RejectedFn\n}\n\nexport default class InterceptorManager<T> {\n  private interceptors: Array<Interceptor<T> | null>\n  constructor() {\n    this.interceptors = []\n  }\n  // 添加拦截器\n  use(resolved: ResolvedFn<T>, rejected?: RejectedFn): number {\n    this.interceptors.push({\n      resolved,\n      rejected\n    })\n    return this.interceptors.length - 1\n  }\n  // 遍历拦截器\n  forEach(fn: (Interceptor: Interceptor<T>) => void): void {\n    this.interceptors.forEach(interceptor => {\n      if (interceptor !== null) {\n        fn(interceptor)\n      }\n    })\n  }\n  // 根据id删除拦截器\n  eject(id: number): void {\n    if (this.interceptors[id]) {\n      // 不能直接删除数组，而是把值置为null\n      this.interceptors[id] = null\n    }\n  }\n}\n","import { AxiosRequestConfig, Axios } from '../types'\nimport { isPlainObject, deepMerge } from '../helpers/utils'\n\n// strats 合并策略函数\nconst strats = Object.create(null)\n// 默认合并策略\nfunction defaultStrat(val1: any, val2: any): any {\n  return typeof val2 !== 'undefined' ? val2 : val1\n}\n\n// 只接受自定义配置合并策略\nfunction fromVal2Strat(val1: any, val2: any): any {\n  if (typeof val2 !== 'undefined') {\n    return val2\n  }\n}\n\n// 对 url params data 实现简单策略\nconst stratKeysFromVal2 = ['url', 'params', 'data']\n\nstratKeysFromVal2.forEach(key => {\n  strats[key] = fromVal2Strat\n})\n\n// 复杂对象合并策略\nfunction deepMergeStrat(val1: any, val2: any) {\n  if (isPlainObject(val2)) {\n    return deepMerge(val1, val2)\n  } else if (typeof val2 !== 'undefined') {\n    return val2\n  } else if (isPlainObject(val1)) {\n    // val2 为空会走到这个分支\n    return deepMerge(val1)\n  } else if (typeof val1 !== 'undefined') {\n    return val1\n  }\n}\n\n// 对header实现复杂策略\nconst stratKeysDeepMerge = ['headers', 'auth']\n\nstratKeysDeepMerge.forEach(key => {\n  strats[key] = deepMergeStrat\n})\n\n// config1 默认配置\n// config2 用户传入配置\nexport default function mergeConfig(\n  config1: AxiosRequestConfig,\n  config2?: AxiosRequestConfig\n): AxiosRequestConfig {\n  if (!config2) {\n    config2 = {}\n  }\n  const config = Object.create(null)\n\n  for (let key in config2) {\n    mergeField(key)\n  }\n\n  for (let key in config1) {\n    if (!config2[key]) {\n      mergeField(key)\n    }\n  }\n\n  function mergeField(key: string): void {\n    const strat = strats[key] || defaultStrat\n    config[key] = strat(config1[key], config2![key])\n  }\n\n  return config\n}\n","import {\n  AxiosRequestConfig,\n  AxiosPromise,\n  Method,\n  AxiosResponse,\n  ResolvedFn,\n  RejectedFn\n} from '../types'\nimport dispatchRequest from './dispatchRequest'\nimport InterceptorManager from './InterceptorManager'\nimport mergeConfig from './mergeConfig'\n\n\ninterface Interceptors {\n  request: InterceptorManager<AxiosRequestConfig>\n  response: InterceptorManager<AxiosResponse>\n}\n\ninterface PromiseChain<T> {\n  resolved: ResolvedFn<T> | ((config: AxiosRequestConfig) => AxiosPromise)\n  rejected?: RejectedFn\n}\n\nexport default class Axios {\n  defaults: AxiosRequestConfig\n  interceptors: Interceptors\n  \n\n  constructor(initConfig: AxiosRequestConfig) {\n    // 初始化拦截器\n    this.interceptors = {\n      request: new InterceptorManager<AxiosRequestConfig>(),\n      response: new InterceptorManager<AxiosResponse>()\n    }\n    // 初始化配置\n    this.defaults = initConfig\n    // console.log(this.defaults)\n  }\n\n  request(url: any, config?: any): AxiosPromise {\n    // 实现函数重载\n    if (typeof url === 'string') {\n      if (!config) {\n        config = {}\n      }\n      config.url = url\n    } else {\n      config = url\n    }\n\n    // 合并参数\n    config = mergeConfig(this.defaults, config)\n\n    const chain: PromiseChain<any>[] = [\n      {\n        resolved: dispatchRequest,\n        rejected: undefined\n      }\n    ]\n    // 请求拦截器\n    // 后添加的先执行\n    this.interceptors.request.forEach(interceptor => {\n      chain.unshift(interceptor)\n    })\n\n    // 响应拦截器\n    // 先添加的先执行\n    this.interceptors.response.forEach(interceptor => {\n      chain.push(interceptor)\n    })\n\n    // chain 顺序是 请求拦截器 + xhr请求 + 响应拦截器\n    // 依次链式调用promise\n\n    // 使用promise链式调用\n    let promise = Promise.resolve(config)\n\n    while (chain.length) {\n      // 类型断言chain.shift()不为空\n      const { resolved, rejected } = chain.shift()!\n      // console.log(resolved)\n      promise = promise.then(resolved, rejected)\n    }\n\n    return promise\n  }\n\n  get(url: string, config?: AxiosRequestConfig): AxiosPromise {\n    return this._requestMethodWithoutData('get', url, config)\n  }\n\n  delete(url: string, config?: AxiosRequestConfig): AxiosPromise {\n    return this._requestMethodWithoutData('delete', url, config)\n  }\n  options(url: string, config?: AxiosRequestConfig): AxiosPromise {\n    return this._requestMethodWithoutData('options', url, config)\n  }\n\n  post(url: string, data?: any, config?: AxiosRequestConfig): AxiosPromise {\n    return this._requestMethodWithData('post', url, data, config)\n  }\n\n  put(url: string, data?: any, config?: AxiosRequestConfig): AxiosPromise {\n    return this._requestMethodWithData('put', url, data, config)\n  }\n\n  patch(url: string, data?: any, config?: AxiosRequestConfig): AxiosPromise {\n    return this._requestMethodWithData('patch', url, data, config)\n  }\n\n  _requestMethodWithoutData(\n    method: Method,\n    url: string,\n    config?: AxiosRequestConfig\n  ) {\n    return this.request(\n      Object.assign(config || {}, {\n        method,\n        url\n      })\n    )\n  }\n\n  _requestMethodWithData(\n    method: Method,\n    url: string,\n    data?: any,\n    config?: AxiosRequestConfig\n  ) {\n    return this.request(\n      Object.assign(config || {}, {\n        method,\n        url,\n        data\n      })\n    )\n  }\n}\n\n","import { isPlainObject } from './utils'\n\n// 对请求数据做处理\nexport function transformRequest(data: any): any {\n  // console.log(data)\n  // console.log(isPlainObject(data))\n  if (isPlainObject(data)) {\n    return JSON.stringify(data)\n  }\n  return data\n}\n\nexport function transformResponse(data: any): any {\n  if (typeof data === 'string') {\n    try {\n      data = JSON.parse(data)\n    } catch (e) {\n      // do nothing\n    }\n  }\n  return data\n}\n","import { AxiosRequestConfig } from './types'\nimport { processHeaders } from './helpers/header'\nimport { transformRequest, transformResponse } from './helpers/data'\nconst defaults: AxiosRequestConfig = {\n  method: 'get',\n  timeout: 0,\n  headers: {\n    common: {\n      Accept: 'application/json,text/plain,*/*'\n    }\n  },\n  transformRequest: [\n    function(data: any, headers: any): any {\n      processHeaders(headers, data)\n      return transformRequest(data)\n    }\n  ],\n  transformResponse: [\n    function(data: any): any {\n      return transformResponse(data)\n    }\n  ],\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n}\n\nconst methodsNoData = ['delete', 'get', 'head', 'options']\n\nmethodsNoData.forEach(method => {\n  defaults.headers[method] = {}\n})\n\nconst methodsWithData = ['post', 'put', 'patch']\n\nmethodsWithData.forEach(method => {\n  defaults.headers[method] = {\n    'Content-Type': 'application/x-www-form-urlencoded'\n  }\n})\n\n// console.log(defaults)\n\nexport default defaults\n","export default class Cancel {\n    message?: string\n\n    constructor(message?: string) {\n        this.message = message\n    }\n}\n\nexport function isCancel(value: any): boolean {\n    // console.log(value)\n    return value instanceof Cancel\n}","import { CancelExecutor, CancelTokenSource, Canceler } from '../types'\nimport Cancel from './Cancel'\n\ninterface ResolvePromise {\n    (reason?: Cancel): void\n}\n\nexport default class CancelToken {\n    promise: Promise<Cancel>\n    reason?: Cancel\n\n    constructor(executor: CancelExecutor) {\n        let resolvePromise: ResolvePromise\n        // 在pengding状态的promise\n        this.promise = new Promise<Cancel>(resolve => {\n            resolvePromise = resolve\n        })\n        // \n        // console.log(this.promise)\n\n        executor(message => {\n            // 防止多次调用\n            if (this.reason) {\n                return\n            }\n            // 通过 new Cancel 判断是否是 cancel 类型错误\n            this.reason = new Cancel(message)\n            // console.log(this.reason)\n            resolvePromise(this.reason)\n        })\n    }\n\n    throwIfRequested(): void {\n        // console.log(this.reason)\n        if (this.reason) {\n            throw this.reason\n        }\n    }\n\n    static source(): CancelTokenSource {\n        let cancel!: Canceler\n        const token = new CancelToken(c => {\n            // c 是 executor 中执行函数\n            cancel = c\n        })\n        console.log(token)\n        return {\n            cancel,\n            token\n        }\n    }\n}","import { AxiosRequestConfig, AxiosStatic } from './types'\nimport Axios from './core/Axios'\nimport { extend } from './helpers/utils'\nimport defaults from './defaults'\nimport mergeConfig from './core/mergeConfig'\nimport CancelToken from './cancel/CancelToken'\nimport Cancel, { isCancel } from './cancel/Cancel'\n\nfunction createInstance(config: AxiosRequestConfig): AxiosStatic {\n  const context = new Axios(config)\n  // 用 Axios.request 可行吗\n  const instance = Axios.prototype.request.bind(context)\n  // 拷贝属性，将 context 属性 拷贝到 instance 上\n  extend(instance, context)\n  return instance as AxiosStatic\n}\n\nconst axios = createInstance(defaults)\n\n// 创建新的 axios 实例\naxios.create = function create(config: any) {\n  // 合并配置\n  return createInstance(mergeConfig(defaults,config))\n}\n\n// 取消\naxios.CancelToken = CancelToken\naxios.Cancel = Cancel\naxios.isCancel = isCancel\n\nexport default axios\n"],"names":["processHeaders"],"mappings":"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"}